Plecs {
  Name          "dinamica_R1"
  Version       "4.1"
  CircuitModel  "DiscStateSpace"
  StartTime     "0"
  StopTime      "0.2"
  Timeout       ""
  Solver        "FixedStepDiscrete"
  MaxStep       "1e-3"
  InitStep      "-1"
  FixedStep     "passo"
  Refine        "1"
  ZCStepSize    "1e-9"
  RelTol        "1e-5"
  AbsTol        "1e-5"
  TurnOnThreshold "0"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "2"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AssertionAction "1"
  InitializationCommands base64 "UCA9IDM5MDA7CmkgPSAxOwolUGFyYW1ldHJvcyBkYSBjY"
"XJnYTsKUiA9IDUwOwpMID0gNDIuNzg2ZS0zOwpMTkwgPSA0ZS0zOyAgJSBDYXJnYSAxIDZtSCAsIG"
"NhcmdhIDIgMC4wNW1IClJMID0gMC4wNjsKQ05MID0gMmUtMzsKUkMgPSAwLjAwMjsKUk5MID0gNDA"
"7CgolIFN5c3RlbSBQYXJhbWV0ZXJzCmZzID0gMTIwMDA7CmZuID0gNjA7CmZzYW1wbGUgPSBmczsK"
"VHMgPSAxL2ZzYW1wbGU7CnBhc3NvID0gMS8oZnMqMTI4KTsKVmNtID0gMTsKVl9yZWRlID0gMjIwK"
"nNxcnQoMik7ClZybXMgPSAyMjA7CgolIEdyaWQgUGFyYW1ldGVycwpTVCA9IDMwMGUzOyAgClZybX"
"NfZ3JpZCA9IDIyMDsKVl9yZWRlX2dyaWQgPSAyMjAqc3FydCgyKTsKU2IgPSBTVDsKVmIgPSBWcm1"
"zX2dyaWQ7CkxiYXNlID0gVmJeMi8oU2IqMipwaSpmbik7ICAlJSBpbmR1dMOibmNpYSBiYXNlCkxf"
"dHJhZm8gPSBMYmFzZSowLjAzOyAgICAgICAlJSBpbmR1dG9yIGRvIHRyYWZvCgoKSXIgPSAyNTsKC"
"iAgJSBGdW5kYW1lbnRhbCBTT0dJLVBMTAogICAgd25fc3JmMSA9IDIwKjIqcGk7CiAgICBrc2lfc3"
"JmMSA9IDEvc3FydCgyKTsKICAgIGtwX3BsbDEgPSAyKnduX3NyZjEqa3NpX3NyZjE7CiAgICBraV9"
"wbGwxID0gKHduX3NyZjFeMik7Cgo="
  InitialState  "1"
  SystemState   ""
  CodeGenParameterInlining "2"
  CodeGenInliningExceptions "AAAACwAAAAAA"
  CodeGenFloatingPointFormat "2"
  CodeGenIntegerWordSize "32"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "Generic"
  CodeGenTargetSettings ""
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings ""
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  Terminal {
    Type          Output
    Index         "1"
  }
  Terminal {
    Type          Output
    Index         "2"
  }
  Terminal {
    Type          Output
    Index         "3"
  }
  Terminal {
    Type          Output
    Index         "4"
  }
  Schematic {
    Location      [0, 27; 1366, 691]
    ZoomFactor    1
    SliderPosition [0, 0]
    ShowBrowser   on
    BrowserWidth  143
    Component {
      Type          Ammeter
      Name          "Am1"
      Show          off
      Position      [795, 250]
      Direction     left
      Flipped       off
    }
    Component {
      Type          Goto
      Name          "Goto"
      Show          off
      Position      [795, 165]
      Direction     down
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "Is"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Voltmeter
      Name          "Vm1"
      Show          off
      Position      [885, 315]
      Direction     up
      Flipped       off
    }
    Component {
      Type          Goto
      Name          "Goto1"
      Show          off
      Position      [980, 315]
      Direction     left
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "Vpcc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From1"
      Show          off
      Position      [860, 100]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Is"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto6"
      Show          off
      Position      [1105, 165]
      Direction     down
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "Ig"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From14"
      Show          off
      Position      [680, 90]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Ig"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From15"
      Show          off
      Position      [680, 110]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Is"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          ZeroOrderHold
      Name          "Zero-Order\nHold"
      Show          off
      Position      [795, 200]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "Ts"
        Value         "1/fsample"
        Show          off
      }
    }
    Component {
      Type          ZeroOrderHold
      Name          "Zero-Order\nHold1"
      Show          off
      Position      [1105, 200]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "Ts"
        Value         "1/fsample"
        Show          off
      }
    }
    Component {
      Type          SineGenerator
      Name          "Sine Wave"
      Show          off
      Position      [1290, 310]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Amplitude"
        Value         "V_rede_grid "
        Show          off
      }
      Parameter {
        Variable      "Bias"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "Frequency"
        Value         "fn"
        Show          off
      }
      Parameter {
        Variable      "Phase"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "Units"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          VoltageSource
      Name          "V"
      Show          off
      Position      [1330, 310]
      Direction     down
      Flipped       on
      Parameter {
        Variable      "DiscretizationBehavior"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "StateSpaceInlining"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am9"
      Show          off
      Position      [1030, 505]
      Direction     down
      Flipped       on
    }
    Component {
      Type          Ammeter
      Name          "Am10"
      Show          off
      Position      [1105, 250]
      Direction     left
      Flipped       on
    }
    Component {
      Type          Goto
      Name          "Goto13"
      Show          off
      Position      [895, 460]
      Direction     right
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "Iload"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          CurrentSource
      Name          "I"
      Show          on
      Position      [520, 325]
      Direction     down
      Flipped       on
      Parameter {
        Variable      "DiscretizationBehavior"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "StateSpaceInlining"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Constant"
      Show          on
      Position      [120, 275]
      Direction     right
      Flipped       off
      Frame         [-25, -10; 25, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "P"
        Show          off
      }
    }
    Component {
      Type          Product
      Name          "Divide"
      Show          on
      Position      [285, 280]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "Inputs"
        Value         "**"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Saturation4"
      Show          on
      Position      [485, 550]
      Direction     up
      Flipped       off
      Frame         [-75, -35; 75, 35]
      LabelPosition [0, 0]
      SampleTime    "-1"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [79, -25]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [75, 20]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-75, -25]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [0, -39]
        Direction     up
      }
      Schematic {
        Location      [1, 31; 1365, 683]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Output
          Name          "Ih*KH"
          Show          on
          Position      [1170, 290]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Ih"
          Show          on
          Position      [185, 325]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product3"
          Show          off
          Position      [1115, 290]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [750, 430]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux1"
          Show          off
          Position      [575, 430]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Width"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "IS"
          Show          on
          Position      [475, 425]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          ManualSignalSwitch
          Name          "Manual Switch"
          Show          off
          Position      [920, 300]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "SwitchState"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto"
          Show          off
          Position      [245, 325]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "Ih"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From"
          Show          off
          Position      [1075, 285]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "Ih"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "KH"
          Show          on
          Position      [1085, 340]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "k factor4"
          Show          off
          Position      [490, 495]
          Direction     left
          Flipped       on
          Frame         [-25, -10; 25, 10]
          LabelPosition [0, -13]
          LabelAlign    down
          Parameter {
            Variable      "Value"
            Value         "Ir"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "k factor6"
          Show          off
          Position      [385, 325]
          Direction     left
          Flipped       on
          Frame         [-25, -10; 25, 10]
          LabelPosition [0, -13]
          LabelAlign    down
          Parameter {
            Variable      "Value"
            Value         "Ir"
            Show          off
          }
        }
        Component {
          Type          Display
          Name          "Display"
          Show          on
          Position      [470, 325]
          Direction     up
          Flipped       off
          Frame         [-31, -11; 31, 11]
          LabelPosition [0, 14]
          LabelAlign    up
          Parameter {
            Variable      "Notation"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Precision"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "Constant6"
          Show          off
          Position      [125, 530]
          Direction     right
          Flipped       off
          Frame         [-35, -10; 35, 10]
          LabelPosition [0, 13]
          LabelAlign    up
          Parameter {
            Variable      "Value"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Clock
          Name          "Clock"
          Show          off
          Position      [225, 475]
          Direction     right
          Flipped       off
        }
        Component {
          Type          SignalSwitch
          Name          "Switch2"
          Show          off
          Position      [260, 525]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Criteria"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Threshold"
            Value         "0.05"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From2"
          Show          off
          Position      [210, 515]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "Ih"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [860, 315]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "UpperLimit"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Peak Detector7"
          Show          off
          Position      [655, 430]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "NumInputs"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "Ts"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#define i1 Input (0)\n#define i2 Input (1)\n#define"
" Ir Input (2)\n#define Imax Ir\n\n#include <stdlib.h>\n\n#define kant DiscSta"
"te(0)\n#define maximum_ant DiscState(1)\n#define KH_ant DiscState(2)\n#define"
" peak_ant DiscState(3)\n#define y1_ant DiscState(4)\n#define y2_ant DiscState"
"(5)\n\nint k;\nstatic double Nf;\nstatic double maximum;\nstatic double peak;"
"\nstatic double KH;\nstatic double y1;\nstatic double y2;\nstatic double Ialp"
"ha;\nstatic double Itil;\nint c;\n\nfloat im;\n"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "k = -1;\nkant = k;\nNf = 199;\nmaximum = 0;\nmaximu"
"m_ant = 0;\npeak = 0;\nKH_ant = 0;\ny1_ant = 0;\ny2_ant = 0;\n"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "k = kant + 1;\nim = i1+i2;\n\nif (k<=Nf){\n\n    if"
" (im > peak)\n    {\n       peak  = im;\n       Ialpha = i1;\n       Itil = i"
"2;\n    }\n  }\n\n  \nif (k==Nf){\nk = -1;\nmaximum = peak;\npeak = 0;\n\nif "
"(maximum <= Imax){\nKH = 1;\n}\nelse if (Ialpha >= Imax && Itil >= 0){\nKH = "
"0;\n}\n\nelse if (Ialpha < Imax ) {\nKH = (Imax-Ialpha)/Itil;\n}\n\ny1 = Ialp"
"ha;\ny2 = Itil;\n}\n\nelse{\nKH = KH_ant;\nmaximum = maximum_ant;\ny1 = y1_an"
"t;\ny2 = y2_ant;\n}\n\n\n\nOutput (0) = maximum;\nOutput (1) = KH;\nOutput (2"
") = y1;\nOutput (3) = y2;\n\n"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         "kant = k;\nmaximum_ant = maximum;\nKH_ant = KH;\ny1"
"_ant = y1;\ny2_ant = y2;"
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "5 Hz low pass\nfilter1"
          Show          off
          Position      [800, 375]
          Direction     left
          Flipped       off
          Frame         [-10, -25; 10, 25]
          LabelPosition [13, 0]
          LabelAlign    left
          SampleTime    "-1"
          CodeGenTarget "Generic"
          MaskType      "Filtro Passa Baixa"
          MaskDescription base64 "VCA9IDEvKDIqcGkqRmMpIAoKRmMgPSBGcmVxdcOqbmNp"
"YSBkZSBDb3J0ZSBkbyBGaWx0cm8="
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "T"
            Prompt        "T"
            Type          FreeText
            Value         "1/(2*pi*15)"
            Show          off
            Tunable       on
            TabName       ""
          }
          Parameter {
            Variable      "In"
            Prompt        "Initial Condition"
            Type          FreeText
            Value         "0"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Ts"
            Prompt        "Sample time"
            Type          FreeText
            Value         "1/fsample"
            Show          off
            Tunable       on
            TabName       ""
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Schematic {
            Location      [350, 262; 1081, 596]
            ZoomFactor    1
            SliderPosition [0, 55]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "out"
              Show          on
              Position      [565, 115]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "in"
              Show          on
              Position      [35, 115]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          ZeroOrderHold
              Name          "Zero-Order\nHold3"
              Show          off
              Position      [105, 115]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Ts"
                Value         "Ts"
                Show          off
              }
            }
            Component {
              Type          Delay
              Name          "Delay"
              Show          off
              Position      [210, 115]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "N"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "X0"
                Value         "In"
                Show          off
              }
              Parameter {
                Variable      "Ts"
                Value         "Ts"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Kp5"
              Show          off
              Position      [285, 115]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "Ts/T"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum2"
              Show          off
              Position      [340, 115]
              Direction     up
              Flipped       on
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "-++"
                Show          off
              }
            }
            Component {
              Type          Delay
              Name          "Delay1"
              Show          off
              Position      [435, 185]
              Direction     left
              Flipped       off
              Parameter {
                Variable      "N"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "X0"
                Value         "In"
                Show          off
              }
              Parameter {
                Variable      "Ts"
                Value         "Ts"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Kp6"
              Show          off
              Position      [375, 185]
              Direction     left
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "Ts/T"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Delay
              Name          "Delay2"
              Show          off
              Position      [410, 70]
              Direction     left
              Flipped       off
              Parameter {
                Variable      "N"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "X0"
                Value         "In"
                Show          off
              }
              Parameter {
                Variable      "Ts"
                Value         "Ts"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "in"
              SrcTerminal   1
              DstComponent  "Zero-Order\nHold3"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Zero-Order\nHold3"
              SrcTerminal   2
              DstComponent  "Delay"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Delay"
              SrcTerminal   2
              DstComponent  "Kp5"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Kp5"
              SrcTerminal   2
              DstComponent  "Sum2"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Delay1"
              SrcTerminal   2
              DstComponent  "Kp6"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Kp6"
              SrcTerminal   2
              Points        [340, 185]
              DstComponent  "Sum2"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum2"
              SrcTerminal   1
              Points        [490, 115]
              Branch {
                DstComponent  "out"
                DstTerminal   1
              }
              Branch {
                Points        [490, 185]
                DstComponent  "Delay1"
                DstTerminal   1
              }
              Branch {
                Points        [490, 70]
                DstComponent  "Delay2"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Delay2"
              SrcTerminal   2
              Points        [340, 70]
              DstComponent  "Sum2"
              DstTerminal   4
            }
          }
          MaskProbe {
            Name          "New mask signal"
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product3"
          SrcTerminal   1
          DstComponent  "Ih*KH"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Ih"
          SrcTerminal   1
          DstComponent  "Goto"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From"
          SrcTerminal   1
          DstComponent  "Product3"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "k factor6"
          SrcTerminal   1
          DstComponent  "Display"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant6"
          SrcTerminal   1
          DstComponent  "Switch2"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Clock"
          SrcTerminal   1
          Points        [260, 475]
          DstComponent  "Switch2"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [880, 305]
          DstComponent  "Manual Switch"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux1"
          SrcTerminal   1
          DstComponent  "Peak Detector7"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Peak Detector7"
          SrcTerminal   2
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "5 Hz low pass\nfilter1"
          SrcTerminal   1
          Points        [800, 315]
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          Points        [800, 425]
          DstComponent  "5 Hz low pass\nfilter1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "k factor4"
          SrcTerminal   1
          Points        [540, 495; 540, 440]
          DstComponent  "Mux1"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "Switch2"
          SrcTerminal   1
          Points        [425, 525; 425, 460; 535, 460; 535, 430]
          DstComponent  "Mux1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Manual Switch"
          SrcTerminal   1
          Points        [980, 300; 980, 295; 1045, 295]
          Branch {
            DstComponent  "Product3"
            DstTerminal   3
          }
          Branch {
            Points        [1045, 340]
            DstComponent  "KH"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "From2"
          SrcTerminal   1
          Points        [225, 515]
          Branch {
            Points        [230, 515]
            DstComponent  "Switch2"
            DstTerminal   2
          }
          Branch {
            Points        [225, 505; 325, 505]
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "IS"
          SrcTerminal   1
          Points        [525, 425; 525, 420]
          DstComponent  "Mux1"
          DstTerminal   2
        }
        Annotation {
          Name          "HAS"
          Position      [640, 380]
        } 
      }
    }
    Component {
      Type          Gain
      Name          "Gain"
      Show          on
      Position      [555, 420]
      Direction     left
      Flipped       off
      Parameter {
        Variable      "K"
        Value         "1/V_rede_grid "
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Product
      Name          "Divide1"
      Show          on
      Position      [200, 280]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "Inputs"
        Value         "*/"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Constant10"
      Show          off
      Position      [75, 325]
      Direction     right
      Flipped       off
      Frame         [-70, -10; 70, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "V_rede_grid/sqrt(2)"
        Show          off
      }
    }
    Component {
      Type          ZeroOrderHold
      Name          "Zero-Order\nHold2"
      Show          off
      Position      [930, 315]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Ts"
        Value         "1/fsample"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From31"
      Show          off
      Position      [930, 770]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Ig"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display21"
      Show          off
      Position      [1330, 765]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display22"
      Show          off
      Position      [1330, 645]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display27"
      Show          off
      Position      [1330, 675]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display28"
      Show          off
      Position      [1330, 705]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display29"
      Show          off
      Position      [1330, 735]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display30"
      Show          off
      Position      [1330, 820]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From32"
      Show          off
      Position      [930, 745]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Vpcc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Fatores de conformidade do inversor"
      Show          on
      Position      [1080, 750]
      Direction     up
      Flipped       off
      Frame         [-115, -50; 115, 50]
      LabelPosition [0, 0]
      SampleTime    "-1"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [119, -40]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, -25]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, -10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, 5]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, 20]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [85, 54]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-115, 20]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-115, -5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-115, -30]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [119, 35]
        Direction     right
      }
      Schematic {
        Location      [1, 31; 1365, 686]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalMux
          Name          "Mux8"
          Show          off
          Position      [430, 140]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux6"
          Show          off
          Position      [545, 140]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "7"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Peak Detector19"
          Show          off
          Position      [485, 140]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "NumInputs"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "7"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "Ts"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <math.h>\n\n#define v1 Input (0)\n#define "
"i Input (1)\n#define i1 Input (2)\n#define fn Input (3)\n\n#define Ts 0.00008"
"33333333333\n#define pi 3.14159265359\n\nint count = 0;\nint t = 1200;\nfloat"
" array1[200];\nfloat array2[200];\nfloat array3[200];\nfloat array4[200];\nfl"
"oat array5[200];\nfloat array6[200];\nfloat array7[200];\n\nfloat N = 200;\n"
"\nfloat P = 0;\nfloat Pant = 0;\nfloat pins = 0;\nfloat vi = 0;\nfloat viant "
"= 0;\nfloat vm = 0;\nfloat vmant = 0;\nfloat vunb = 0;\nfloat W = 0;\nfloat W"
"ant = 0;\nfloat Q = 0;\nfloat v2 = 0;\nfloat v2ant = 0;\nfloat V_RMS = 0;\nfl"
"oat i2 = 0;\nfloat i2ant = 0;\nfloat I_RMS = 0;\nfloat A = 0;\nfloat Fp = 0;"
"\nfloat Fd = 0;\nfloat i_ant = 0;\nfloat i_ant2 = 0;\nfloat ires = 0;\nfloat "
"ires_ant = 0;\nfloat ires_ant2 = 0;\nfloat v_ant = 0;\nfloat v_ant2 = 0;\nflo"
"at v1_ant = 0;\nfloat imv = 0;\nfloat imv2 = 0;\nfloat imv_ant = 0;\nfloat im"
"v2_ant = 0;\nfloat I1_RMS = 0;\nfloat Ires_RMS = 0;\nfloat THD = 0;\nfloat TD"
"D = 0;\n\nint j = 0;\nint j2 = 0;\nint j3 = 0;\nint j4 = 0;\nint j5 = 0;\nint"
" j6 = 0;\nint j7 = 0;\n\n"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         base64 "aWYoY291bnQgIT0gdCkgY291bnQgKys7CmlmKGNvdW50"
"ID09IHQpCnsKaXJlcyA9IGkgLSBpMTsKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9Dw6FsY3VsbyBkY"
"SBQb3TDqm5jaWEgQXRpdmEvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwpwaW"
"5zID0gdjEqaTE7CgppZihqID09IE4pIGogPSAwOwpQID0gUGFudCArIChwaW5zIC0gYXJyYXkxW2p"
"dKS9OOwphcnJheTFbal0gPSBwaW5zOwpqKys7CgpPdXRwdXQoMCkgPSBQOwoKLy8vLy8vLy8vLy8v"
"Ly8vLy8vLy8vLy9Dw6FsY3VsbyBkYSBFbmVyZ2lhIFJlYXRpdmEvLy8vLy8vLy8vLy8vLy8vLy8vL"
"y8vLy8vLy8vLy8vLy8vLy8vCgp2aSA9IHZpYW50ICsgVHMvMiAqICh2MSArIHYxX2FudCk7ICAgIC"
"AvL0PDoWxjdWxvIGRhIGludGVncmFsIGRhIHRlbnPDo28gZGEgY29tcG9uZW50ZSBmdW5kYW1lbnR"
"hbAoKaWYoajIgPT0gTikgajIgPSAwOwp2bSA9IHZtYW50ICsgKHZpIC0gYXJyYXkyW2oyXSkvTjsg"
"IC8vIEPDoWxjdWxvIGRhIE3DqWRpYSBNw7N2ZWwgZGEgdGVuc8OjbyBkYSBjb21wb25lbnRlIGZ1b"
"mRhbWVudGFsCmFycmF5MltqMl0gPSB2aTsKajIrKzsKCi8vIFVuYmlhc2VkIHRpbWUgaW50ZWdyYW"
"wgZGEgdGVuc8OjbyAodnVuYiA9IHZpIC0gdm0gKQp2dW5iID0gdmkgLSB2bTsKCi8vQ8OhbGN1bG8"
"gZGUgVyA9IDEvVCBpbnQodnVuYippKSBkdAppZihqMyA9PSBOKSBqMyA9IDA7ClcgPSBXYW50ICsg"
"KHZ1bmIqaSAtIGFycmF5M1tqM10pL047CmFycmF5M1tqM10gPSB2dW5iKmk7CmozKys7CgovLyBBc"
"3NpbSwgYSBwb3TDqm5jaWEgcmVhdGl2YSDDqSBRID0gdypXCgpRID0gMipwaSpmbipXOwoKT3V0cH"
"V0KDEpID0gUTsKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQ8OhbGN1bG8gZGE"
"gUG90w6puY2lhIEFwYXJlbnRlLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgovLyBjw6FsY3VsbyBS"
"TVMgZGEgdGVuc8OjbyB1c2FuZG8gbcOpZGlhIG3Ds3ZlbAppZihqNCA9PSBOKSBqNCA9IDA7CnYyI"
"D0gdjJhbnQgKyAodjEqdjEgLSBhcnJheTRbajRdKS9OOwphcnJheTRbajRdID0gdjEqdjE7Cmo0Ky"
"s7CgpWX1JNUyA9IHNxcnQodjIpOwoKLy8gY8OhbGN1bG8gUk1TIGRhIGNvcnJlbnRlIHVzYW5kbyB"
"tw6lkaWEgbcOzdmVsCmlmKGo1ID09IE4pIGo1ID0gMDsKaTIgPSBpMmFudCArIChpMSppMSAtIGFy"
"cmF5NVtqNV0pL047CmFycmF5NVtqNV0gPSBpMSppMTsKajUrKzsKCklfUk1TID0gc3FydChpMik7C"
"govLyBBc3NpbSBhIHBvdMOqbmNpYSBhcGFyZW50ZSDDqToKCkEgPSBWX1JNUyAqIElfUk1TOwoKT3"
"V0cHV0KDIpID0gQTsKCi8vIEPDoWxjdWxvIGRvIEZhdG9yIGRlIERlc2xvY2FtZW50bwoKRmQgPSB"
"QL0E7CgpPdXRwdXQoMykgPSBGZDsKCi8vLy8vLy8vLy9USEQgZGEgQ29ycmVudGUvLy8vLy8vLy8v"
"Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL"
"y8vLwovLyBjw6FsY3VsbyBSTVMgZGEgY29ycmVudGUgZnVuZGFtZW50YWwKaWYoajYgPT0gTikgaj"
"YgPSAwOwppbXYgPSBpbXZfYW50ICsgKGkxKmkxIC0gYXJyYXk2W2o2XSkvTjsKYXJyYXk2W2o2XSA"
"9IGkxKmkxOwpqNisrOwoKSTFfUk1TID0gc3FydChpbXYpOwoKLy8gY8OhbGN1bG8gUk1TIGRhIGNv"
"cnJlbnRlIGhhcm1vbmljYQppZihqNyA9PSBOKSBqNyA9IDA7CmltdjIgPSBpbXYyX2FudCArIChpc"
"mVzKmlyZXMgLSBhcnJheTdbajddKS9OOwphcnJheTdbajddID0gaXJlcyppcmVzOwpqNysrOwoKSX"
"Jlc19STVMgPSBzcXJ0KGltdjIpOwoKLy8vLy8vLyBDw6FsY3VsbyBkYSBUSEQKVEhEID0gSXJlc19"
"STVMvSTFfUk1TOwpUREQgPSBJcmVzX1JNUy8oMjUuMDcwMTQ5NTE0Nzk1Nzc2L3NxcnQoMikpOwoK"
"T3V0cHV0KDQpID0gVEhEKjEwMDsKT3V0cHV0KDUpID0gVEREKjEwMDsKCi8vLy8vLy8vLy8vLy8vL"
"y8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0ZhdG9yIGRlIFBvdMOqbmNpYS8vLy8vLy8vLy8vLy"
"8vLy8vLy8vLy8vCkZwID0gRmQvKHNxcnQoKFRIRCpUSEQpKzEpKTsKCk91dHB1dCg2KSA9IEZwOwp"
"9"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         "if(count == t)\n{\nPant = P;\nviant = vi;\nvmant = "
"vm;\nWant = W;\nv2ant = v2;\ni2ant = i2;\n\n\nires_ant2 = ires_ant;\nires_ant"
" = ires;\nv_ant2 = v_ant;\nv1_ant = v1;\nimv_ant = imv;\nimv2_ant = imv2;\n}"
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Det. componente \nfundamental"
          Show          on
          Position      [330, 135]
          Direction     up
          Flipped       off
          Frame         [-65, -40; 65, 40]
          LabelPosition [0, 0]
          SampleTime    "-1"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [69, -25]
            Direction     right
          }
          Terminal {
            Type          Output
            Position      [69, 20]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-65, -5]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [69, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-65, 20]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-65, -30]
            Direction     left
          }
          Schematic {
            Location      [2, 31; 1365, 683]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "v1"
              Show          on
              Position      [355, 110]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "i1"
              Show          on
              Position      [340, 200]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "v"
              Show          on
              Position      [70, 110]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "iout"
              Show          on
              Position      [385, 160]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "SOGI-PLL"
              Show          on
              Position      [210, 110]
              Direction     up
              Flipped       off
              Frame         [-50, -25; 50, 25]
              LabelPosition [0, 0]
              SampleTime    "-1"
              CodeGenTarget "Generic"
              MaskIconFrame on
              MaskIconOpaque off
              MaskIconRotates on
              Terminal {
                Type          Input
                Position      [-50, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [54, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-50, -15]
                Direction     left
              }
              Schematic {
                Location      [0, 31; 1366, 695]
                ZoomFactor    0.999997
                SliderPosition [0, 3]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Gain
                  Name          "Gain"
                  Show          off
                  Position      [170, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "0.2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum"
                  Show          off
                  Position      [120, 220]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product"
                  Show          off
                  Position      [320, 225]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum1"
                  Show          off
                  Position      [220, 220]
                  Direction     up
                  Flipped       on
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product1"
                  Show          off
                  Position      [255, 315]
                  Direction     down
                  Flipped       on
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "x"
                  Show          on
                  Position      [70, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "xa"
                  Show          on
                  Position      [480, 320]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator"
                  Show          off
                  Position      [355, 320]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator1"
                  Show          off
                  Position      [385, 225]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "fn"
                  Show          on
                  Position      [95, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "3"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Gain1"
                  Show          off
                  Position      [155, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "2*pi"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum"
                  SrcTerminal   1
                  DstComponent  "Gain"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain"
                  SrcTerminal   2
                  DstComponent  "Sum1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum1"
                  SrcTerminal   1
                  DstComponent  "Product"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator"
                  SrcTerminal   2
                  DstComponent  "Product1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product"
                  SrcTerminal   1
                  DstComponent  "Discrete\nIntegrator1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator1"
                  SrcTerminal   2
                  Points        [430, 225]
                  Branch {
                    Points        [430, 170; 120, 170]
                    DstComponent  "Sum"
                    DstTerminal   2
                  }
                  Branch {
                    Points        [430, 320]
                    Branch {
                      DstComponent  "Discrete\nIntegrator"
                      DstTerminal   1
                    }
                    Branch {
                      DstComponent  "xa"
                      DstTerminal   1
                    }
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "x"
                  SrcTerminal   1
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product1"
                  SrcTerminal   1
                  Points        [220, 315]
                  DstComponent  "Sum1"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "fn"
                  SrcTerminal   1
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain1"
                  SrcTerminal   2
                  Points        [225, 285; 225, 270; 290, 270]
                  Branch {
                    DstComponent  "Product"
                    DstTerminal   3
                  }
                  Branch {
                    Points        [290, 310]
                    DstComponent  "Product1"
                    DstTerminal   2
                  }
                }
              }
            }
            Component {
              Type          Input
              Name          "i"
              Show          on
              Position      [65, 200]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "5"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "fn"
              Show          on
              Position      [70, 60]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "6"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "SOGI-PLL1"
              Show          on
              Position      [210, 200]
              Direction     up
              Flipped       off
              Frame         [-50, -25; 50, 25]
              LabelPosition [0, 0]
              SampleTime    "-1"
              CodeGenTarget "Generic"
              MaskIconFrame on
              MaskIconOpaque off
              MaskIconRotates on
              Terminal {
                Type          Input
                Position      [-50, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [54, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-50, -15]
                Direction     left
              }
              Schematic {
                Location      [0, 31; 1366, 695]
                ZoomFactor    0.999997
                SliderPosition [0, 3]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Gain
                  Name          "Gain"
                  Show          off
                  Position      [170, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "0.2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum"
                  Show          off
                  Position      [120, 220]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product"
                  Show          off
                  Position      [320, 225]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum1"
                  Show          off
                  Position      [220, 220]
                  Direction     up
                  Flipped       on
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product1"
                  Show          off
                  Position      [255, 315]
                  Direction     down
                  Flipped       on
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "x"
                  Show          on
                  Position      [70, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "xa"
                  Show          on
                  Position      [480, 320]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator"
                  Show          off
                  Position      [355, 320]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator1"
                  Show          off
                  Position      [385, 225]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "fn"
                  Show          on
                  Position      [95, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "3"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Gain1"
                  Show          off
                  Position      [155, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "2*pi"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum"
                  SrcTerminal   1
                  DstComponent  "Gain"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain"
                  SrcTerminal   2
                  DstComponent  "Sum1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum1"
                  SrcTerminal   1
                  DstComponent  "Product"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator"
                  SrcTerminal   2
                  DstComponent  "Product1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product"
                  SrcTerminal   1
                  DstComponent  "Discrete\nIntegrator1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator1"
                  SrcTerminal   2
                  Points        [430, 225]
                  Branch {
                    Points        [430, 170; 120, 170]
                    DstComponent  "Sum"
                    DstTerminal   2
                  }
                  Branch {
                    Points        [430, 320]
                    Branch {
                      DstComponent  "Discrete\nIntegrator"
                      DstTerminal   1
                    }
                    Branch {
                      DstComponent  "xa"
                      DstTerminal   1
                    }
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "x"
                  SrcTerminal   1
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product1"
                  SrcTerminal   1
                  Points        [220, 315]
                  DstComponent  "Sum1"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "fn"
                  SrcTerminal   1
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain1"
                  SrcTerminal   2
                  Points        [225, 285; 225, 270; 290, 270]
                  Branch {
                    DstComponent  "Product"
                    DstTerminal   3
                  }
                  Branch {
                    Points        [290, 310]
                    DstComponent  "Product1"
                    DstTerminal   2
                  }
                }
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "v"
              SrcTerminal   1
              DstComponent  "SOGI-PLL"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "SOGI-PLL"
              SrcTerminal   2
              DstComponent  "v1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "SOGI-PLL1"
              SrcTerminal   2
              DstComponent  "i1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "i"
              SrcTerminal   1
              Points        [120, 200]
              Branch {
                DstComponent  "SOGI-PLL1"
                DstTerminal   1
              }
              Branch {
                Points        [120, 160]
                DstComponent  "iout"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "fn"
              SrcTerminal   1
              Points        [115, 60; 115, 95; 135, 95]
              Branch {
                DstComponent  "SOGI-PLL"
                DstTerminal   3
              }
              Branch {
                Points        [135, 185]
                DstComponent  "SOGI-PLL1"
                DstTerminal   3
              }
            }
          }
        }
        Component {
          Type          Output
          Name          "P"
          Show          on
          Position      [645, 35]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Q"
          Show          on
          Position      [670, 85]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "A"
          Show          on
          Position      [655, 120]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "FD"
          Show          on
          Position      [695, 145]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "THD"
          Show          on
          Position      [660, 170]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "FP"
          Show          on
          Position      [660, 220]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "6"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "i"
          Show          on
          Position      [25, 155]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "7"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "v"
          Show          on
          Position      [25, 130]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "8"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "fn"
          Show          on
          Position      [25, 105]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "9"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "TDD"
          Show          on
          Position      [710, 195]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "10"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux8"
          SrcTerminal   1
          DstComponent  "Peak Detector19"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   4
          DstComponent  "Mux8"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Peak Detector19"
          SrcTerminal   2
          DstComponent  "Demux6"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   2
          Points        [565, 110; 565, 70; 600, 70; 600, 35]
          DstComponent  "P"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   3
          Points        [580, 120; 580, 85]
          DstComponent  "Q"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   4
          Points        [600, 130; 600, 120]
          DstComponent  "A"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   5
          Points        [600, 140; 600, 145]
          DstComponent  "FD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   2
          Points        [405, 155; 405, 145]
          DstComponent  "Mux8"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "fn"
          SrcTerminal   1
          Points        [250, 105]
          Branch {
            DstComponent  "Det. componente \nfundamental"
            DstTerminal   6
          }
          Branch {
            Points        [250, 195; 410, 195; 410, 155]
            DstComponent  "Mux8"
            DstTerminal   5
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   1
          Points        [405, 110; 405, 130; 415, 130]
          DstComponent  "Mux8"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   6
          Points        [600, 150; 600, 170]
          DstComponent  "THD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   8
          Points        [565, 170; 565, 220]
          DstComponent  "FP"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   7
          Points        [580, 160; 580, 195]
          DstComponent  "TDD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "v"
          SrcTerminal   1
          DstComponent  "Det. componente \nfundamental"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "i"
          SrcTerminal   1
          DstComponent  "Det. componente \nfundamental"
          DstTerminal   5
        }
      }
    }
    Component {
      Type          Display
      Name          "Display31"
      Show          off
      Position      [1330, 790]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Constant1"
      Show          on
      Position      [860, 720]
      Direction     right
      Flipped       off
      Frame         [-25, -10; 25, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "60"
        Show          off
      }
    }
    Component {
      Type          Gain
      Name          "Gain1"
      Show          off
      Position      [345, 280]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "K"
        Value         "sqrt(2)"
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From16"
      Show          off
      Position      [610, 570]
      Direction     left
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "ILh"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Sum
      Name          "Sum1"
      Show          off
      Position      [460, 325]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "IconShape"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "++"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From33"
      Show          off
      Position      [1265, 550]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Iload"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display23"
      Show          off
      Position      [1665, 545]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display24"
      Show          off
      Position      [1665, 425]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display32"
      Show          off
      Position      [1665, 455]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display33"
      Show          off
      Position      [1665, 485]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display34"
      Show          off
      Position      [1665, 515]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display35"
      Show          off
      Position      [1665, 600]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From34"
      Show          off
      Position      [1265, 525]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Vpcc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Fatores de conformidade do inversor1"
      Show          on
      Position      [1415, 530]
      Direction     up
      Flipped       off
      Frame         [-115, -50; 115, 50]
      LabelPosition [0, 0]
      SampleTime    "-1"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [119, -40]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, -25]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, -10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, 5]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [119, 20]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [85, 54]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-115, 20]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-115, -5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-115, -30]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [119, 35]
        Direction     right
      }
      Schematic {
        Location      [1, 31; 1365, 686]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalMux
          Name          "Mux8"
          Show          off
          Position      [430, 140]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux6"
          Show          off
          Position      [545, 140]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "7"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Peak Detector19"
          Show          off
          Position      [485, 140]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "NumInputs"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "7"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "Ts"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <math.h>\n\n#define v1 Input (0)\n#define "
"i Input (1)\n#define i1 Input (2)\n#define fn Input (3)\n\n#define Ts 0.00008"
"33333333333\n#define pi 3.14159265359\n\nint count = 0;\nint t = 1200;\nfloat"
" array1[200];\nfloat array2[200];\nfloat array3[200];\nfloat array4[200];\nfl"
"oat array5[200];\nfloat array6[200];\nfloat array7[200];\n\nfloat N = 200;\n"
"\nfloat P = 0;\nfloat Pant = 0;\nfloat pins = 0;\nfloat vi = 0;\nfloat viant "
"= 0;\nfloat vm = 0;\nfloat vmant = 0;\nfloat vunb = 0;\nfloat W = 0;\nfloat W"
"ant = 0;\nfloat Q = 0;\nfloat v2 = 0;\nfloat v2ant = 0;\nfloat V_RMS = 0;\nfl"
"oat i2 = 0;\nfloat i2ant = 0;\nfloat I_RMS = 0;\nfloat A = 0;\nfloat Fp = 0;"
"\nfloat Fd = 0;\nfloat i_ant = 0;\nfloat i_ant2 = 0;\nfloat ires = 0;\nfloat "
"ires_ant = 0;\nfloat ires_ant2 = 0;\nfloat v_ant = 0;\nfloat v_ant2 = 0;\nflo"
"at v1_ant = 0;\nfloat imv = 0;\nfloat imv2 = 0;\nfloat imv_ant = 0;\nfloat im"
"v2_ant = 0;\nfloat I1_RMS = 0;\nfloat Ires_RMS = 0;\nfloat THD = 0;\nfloat TD"
"D = 0;\n\nint j = 0;\nint j2 = 0;\nint j3 = 0;\nint j4 = 0;\nint j5 = 0;\nint"
" j6 = 0;\nint j7 = 0;\n\n"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         base64 "aWYoY291bnQgIT0gdCkgY291bnQgKys7CmlmKGNvdW50"
"ID09IHQpCnsKaXJlcyA9IGkgLSBpMTsKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9Dw6FsY3VsbyBkY"
"SBQb3TDqm5jaWEgQXRpdmEvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwpwaW"
"5zID0gdjEqaTE7CgppZihqID09IE4pIGogPSAwOwpQID0gUGFudCArIChwaW5zIC0gYXJyYXkxW2p"
"dKS9OOwphcnJheTFbal0gPSBwaW5zOwpqKys7CgpPdXRwdXQoMCkgPSBQOwoKLy8vLy8vLy8vLy8v"
"Ly8vLy8vLy8vLy9Dw6FsY3VsbyBkYSBFbmVyZ2lhIFJlYXRpdmEvLy8vLy8vLy8vLy8vLy8vLy8vL"
"y8vLy8vLy8vLy8vLy8vLy8vCgp2aSA9IHZpYW50ICsgVHMvMiAqICh2MSArIHYxX2FudCk7ICAgIC"
"AvL0PDoWxjdWxvIGRhIGludGVncmFsIGRhIHRlbnPDo28gZGEgY29tcG9uZW50ZSBmdW5kYW1lbnR"
"hbAoKaWYoajIgPT0gTikgajIgPSAwOwp2bSA9IHZtYW50ICsgKHZpIC0gYXJyYXkyW2oyXSkvTjsg"
"IC8vIEPDoWxjdWxvIGRhIE3DqWRpYSBNw7N2ZWwgZGEgdGVuc8OjbyBkYSBjb21wb25lbnRlIGZ1b"
"mRhbWVudGFsCmFycmF5MltqMl0gPSB2aTsKajIrKzsKCi8vIFVuYmlhc2VkIHRpbWUgaW50ZWdyYW"
"wgZGEgdGVuc8OjbyAodnVuYiA9IHZpIC0gdm0gKQp2dW5iID0gdmkgLSB2bTsKCi8vQ8OhbGN1bG8"
"gZGUgVyA9IDEvVCBpbnQodnVuYippKSBkdAppZihqMyA9PSBOKSBqMyA9IDA7ClcgPSBXYW50ICsg"
"KHZ1bmIqaSAtIGFycmF5M1tqM10pL047CmFycmF5M1tqM10gPSB2dW5iKmk7CmozKys7CgovLyBBc"
"3NpbSwgYSBwb3TDqm5jaWEgcmVhdGl2YSDDqSBRID0gdypXCgpRID0gMipwaSpmbipXOwoKT3V0cH"
"V0KDEpID0gUTsKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gQ8OhbGN1bG8gZGE"
"gUG90w6puY2lhIEFwYXJlbnRlLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgovLyBjw6FsY3VsbyBS"
"TVMgZGEgdGVuc8OjbyB1c2FuZG8gbcOpZGlhIG3Ds3ZlbAppZihqNCA9PSBOKSBqNCA9IDA7CnYyI"
"D0gdjJhbnQgKyAodjEqdjEgLSBhcnJheTRbajRdKS9OOwphcnJheTRbajRdID0gdjEqdjE7Cmo0Ky"
"s7CgpWX1JNUyA9IHNxcnQodjIpOwoKLy8gY8OhbGN1bG8gUk1TIGRhIGNvcnJlbnRlIHVzYW5kbyB"
"tw6lkaWEgbcOzdmVsCmlmKGo1ID09IE4pIGo1ID0gMDsKaTIgPSBpMmFudCArIChpMSppMSAtIGFy"
"cmF5NVtqNV0pL047CmFycmF5NVtqNV0gPSBpMSppMTsKajUrKzsKCklfUk1TID0gc3FydChpMik7C"
"govLyBBc3NpbSBhIHBvdMOqbmNpYSBhcGFyZW50ZSDDqToKCkEgPSBWX1JNUyAqIElfUk1TOwoKT3"
"V0cHV0KDIpID0gQTsKCi8vIEPDoWxjdWxvIGRvIEZhdG9yIGRlIERlc2xvY2FtZW50bwoKRmQgPSB"
"QL0E7CgpPdXRwdXQoMykgPSBGZDsKCi8vLy8vLy8vLy9USEQgZGEgQ29ycmVudGUvLy8vLy8vLy8v"
"Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL"
"y8vLwovLyBjw6FsY3VsbyBSTVMgZGEgY29ycmVudGUgZnVuZGFtZW50YWwKaWYoajYgPT0gTikgaj"
"YgPSAwOwppbXYgPSBpbXZfYW50ICsgKGkxKmkxIC0gYXJyYXk2W2o2XSkvTjsKYXJyYXk2W2o2XSA"
"9IGkxKmkxOwpqNisrOwoKSTFfUk1TID0gc3FydChpbXYpOwoKLy8gY8OhbGN1bG8gUk1TIGRhIGNv"
"cnJlbnRlIGhhcm1vbmljYQppZihqNyA9PSBOKSBqNyA9IDA7CmltdjIgPSBpbXYyX2FudCArIChpc"
"mVzKmlyZXMgLSBhcnJheTdbajddKS9OOwphcnJheTdbajddID0gaXJlcyppcmVzOwpqNysrOwoKSX"
"Jlc19STVMgPSBzcXJ0KGltdjIpOwoKLy8vLy8vLyBDw6FsY3VsbyBkYSBUSEQKVEhEID0gSXJlc19"
"STVMvSTFfUk1TOwpUREQgPSBJcmVzX1JNUy8oMjUuMDcwMTQ5NTE0Nzk1Nzc2L3NxcnQoMikpOwoK"
"T3V0cHV0KDQpID0gVEhEKjEwMDsKT3V0cHV0KDUpID0gVEREKjEwMDsKCi8vLy8vLy8vLy8vLy8vL"
"y8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0ZhdG9yIGRlIFBvdMOqbmNpYS8vLy8vLy8vLy8vLy"
"8vLy8vLy8vLy8vCkZwID0gRmQvKHNxcnQoKFRIRCpUSEQpKzEpKTsKCk91dHB1dCg2KSA9IEZwOwp"
"9"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         "if(count == t)\n{\nPant = P;\nviant = vi;\nvmant = "
"vm;\nWant = W;\nv2ant = v2;\ni2ant = i2;\n\n\nires_ant2 = ires_ant;\nires_ant"
" = ires;\nv_ant2 = v_ant;\nv1_ant = v1;\nimv_ant = imv;\nimv2_ant = imv2;\n}"
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Det. componente \nfundamental"
          Show          on
          Position      [330, 135]
          Direction     up
          Flipped       off
          Frame         [-65, -40; 65, 40]
          LabelPosition [0, 0]
          SampleTime    "-1"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [69, -25]
            Direction     right
          }
          Terminal {
            Type          Output
            Position      [69, 20]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-65, -5]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [69, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-65, 20]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-65, -30]
            Direction     left
          }
          Schematic {
            Location      [2, 31; 1365, 683]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "v1"
              Show          on
              Position      [355, 110]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "i1"
              Show          on
              Position      [340, 200]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "v"
              Show          on
              Position      [70, 110]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "iout"
              Show          on
              Position      [385, 160]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "SOGI-PLL"
              Show          on
              Position      [210, 110]
              Direction     up
              Flipped       off
              Frame         [-50, -25; 50, 25]
              LabelPosition [0, 0]
              SampleTime    "-1"
              CodeGenTarget "Generic"
              MaskIconFrame on
              MaskIconOpaque off
              MaskIconRotates on
              Terminal {
                Type          Input
                Position      [-50, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [54, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-50, -15]
                Direction     left
              }
              Schematic {
                Location      [0, 31; 1366, 695]
                ZoomFactor    0.999997
                SliderPosition [0, 3]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Gain
                  Name          "Gain"
                  Show          off
                  Position      [170, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "0.2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum"
                  Show          off
                  Position      [120, 220]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product"
                  Show          off
                  Position      [320, 225]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum1"
                  Show          off
                  Position      [220, 220]
                  Direction     up
                  Flipped       on
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product1"
                  Show          off
                  Position      [255, 315]
                  Direction     down
                  Flipped       on
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "x"
                  Show          on
                  Position      [70, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "xa"
                  Show          on
                  Position      [480, 320]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator"
                  Show          off
                  Position      [355, 320]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator1"
                  Show          off
                  Position      [385, 225]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "fn"
                  Show          on
                  Position      [95, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "3"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Gain1"
                  Show          off
                  Position      [155, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "2*pi"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum"
                  SrcTerminal   1
                  DstComponent  "Gain"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain"
                  SrcTerminal   2
                  DstComponent  "Sum1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum1"
                  SrcTerminal   1
                  DstComponent  "Product"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator"
                  SrcTerminal   2
                  DstComponent  "Product1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product"
                  SrcTerminal   1
                  DstComponent  "Discrete\nIntegrator1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator1"
                  SrcTerminal   2
                  Points        [430, 225]
                  Branch {
                    Points        [430, 170; 120, 170]
                    DstComponent  "Sum"
                    DstTerminal   2
                  }
                  Branch {
                    Points        [430, 320]
                    Branch {
                      DstComponent  "Discrete\nIntegrator"
                      DstTerminal   1
                    }
                    Branch {
                      DstComponent  "xa"
                      DstTerminal   1
                    }
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "x"
                  SrcTerminal   1
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product1"
                  SrcTerminal   1
                  Points        [220, 315]
                  DstComponent  "Sum1"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "fn"
                  SrcTerminal   1
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain1"
                  SrcTerminal   2
                  Points        [225, 285; 225, 270; 290, 270]
                  Branch {
                    DstComponent  "Product"
                    DstTerminal   3
                  }
                  Branch {
                    Points        [290, 310]
                    DstComponent  "Product1"
                    DstTerminal   2
                  }
                }
              }
            }
            Component {
              Type          Input
              Name          "i"
              Show          on
              Position      [65, 200]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "5"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "fn"
              Show          on
              Position      [70, 60]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "6"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "SOGI-PLL1"
              Show          on
              Position      [210, 200]
              Direction     up
              Flipped       off
              Frame         [-50, -25; 50, 25]
              LabelPosition [0, 0]
              SampleTime    "-1"
              CodeGenTarget "Generic"
              MaskIconFrame on
              MaskIconOpaque off
              MaskIconRotates on
              Terminal {
                Type          Input
                Position      [-50, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [54, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-50, -15]
                Direction     left
              }
              Schematic {
                Location      [0, 31; 1366, 695]
                ZoomFactor    0.999997
                SliderPosition [0, 3]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Gain
                  Name          "Gain"
                  Show          off
                  Position      [170, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "0.2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum"
                  Show          off
                  Position      [120, 220]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product"
                  Show          off
                  Position      [320, 225]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum1"
                  Show          off
                  Position      [220, 220]
                  Direction     up
                  Flipped       on
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "-+|"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Product1"
                  Show          off
                  Position      [255, 315]
                  Direction     down
                  Flipped       on
                  Parameter {
                    Variable      "Inputs"
                    Value         "2"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "x"
                  Show          on
                  Position      [70, 220]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "xa"
                  Show          on
                  Position      [480, 320]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator"
                  Show          off
                  Position      [355, 320]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          DiscreteIntegrator
                  Name          "Discrete\nIntegrator1"
                  Show          off
                  Position      [385, 225]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "IntegrationMethod"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "SampleTime"
                    Value         "1/fsample"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "fn"
                  Show          on
                  Position      [95, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "3"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Gain1"
                  Show          off
                  Position      [155, 285]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "2*pi"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum"
                  SrcTerminal   1
                  DstComponent  "Gain"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain"
                  SrcTerminal   2
                  DstComponent  "Sum1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum1"
                  SrcTerminal   1
                  DstComponent  "Product"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator"
                  SrcTerminal   2
                  DstComponent  "Product1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product"
                  SrcTerminal   1
                  DstComponent  "Discrete\nIntegrator1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Discrete\nIntegrator1"
                  SrcTerminal   2
                  Points        [430, 225]
                  Branch {
                    Points        [430, 170; 120, 170]
                    DstComponent  "Sum"
                    DstTerminal   2
                  }
                  Branch {
                    Points        [430, 320]
                    Branch {
                      DstComponent  "Discrete\nIntegrator"
                      DstTerminal   1
                    }
                    Branch {
                      DstComponent  "xa"
                      DstTerminal   1
                    }
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "x"
                  SrcTerminal   1
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Product1"
                  SrcTerminal   1
                  Points        [220, 315]
                  DstComponent  "Sum1"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "fn"
                  SrcTerminal   1
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain1"
                  SrcTerminal   2
                  Points        [225, 285; 225, 270; 290, 270]
                  Branch {
                    DstComponent  "Product"
                    DstTerminal   3
                  }
                  Branch {
                    Points        [290, 310]
                    DstComponent  "Product1"
                    DstTerminal   2
                  }
                }
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "v"
              SrcTerminal   1
              DstComponent  "SOGI-PLL"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "SOGI-PLL"
              SrcTerminal   2
              DstComponent  "v1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "SOGI-PLL1"
              SrcTerminal   2
              DstComponent  "i1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "i"
              SrcTerminal   1
              Points        [120, 200]
              Branch {
                DstComponent  "SOGI-PLL1"
                DstTerminal   1
              }
              Branch {
                Points        [120, 160]
                DstComponent  "iout"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "fn"
              SrcTerminal   1
              Points        [115, 60; 115, 95; 135, 95]
              Branch {
                DstComponent  "SOGI-PLL"
                DstTerminal   3
              }
              Branch {
                Points        [135, 185]
                DstComponent  "SOGI-PLL1"
                DstTerminal   3
              }
            }
          }
        }
        Component {
          Type          Output
          Name          "P"
          Show          on
          Position      [645, 35]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Q"
          Show          on
          Position      [670, 85]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "A"
          Show          on
          Position      [655, 120]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "FD"
          Show          on
          Position      [695, 145]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "THD"
          Show          on
          Position      [660, 170]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "FP"
          Show          on
          Position      [660, 220]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "6"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "i"
          Show          on
          Position      [25, 155]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "7"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "v"
          Show          on
          Position      [25, 130]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "8"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "fn"
          Show          on
          Position      [25, 105]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "9"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "TDD"
          Show          on
          Position      [710, 195]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "10"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux8"
          SrcTerminal   1
          DstComponent  "Peak Detector19"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   4
          DstComponent  "Mux8"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Peak Detector19"
          SrcTerminal   2
          DstComponent  "Demux6"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   2
          Points        [565, 110; 565, 70; 600, 70; 600, 35]
          DstComponent  "P"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   3
          Points        [580, 120; 580, 85]
          DstComponent  "Q"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   4
          Points        [600, 130; 600, 120]
          DstComponent  "A"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   5
          Points        [600, 140; 600, 145]
          DstComponent  "FD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   2
          Points        [405, 155; 405, 145]
          DstComponent  "Mux8"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "fn"
          SrcTerminal   1
          Points        [250, 105]
          Branch {
            DstComponent  "Det. componente \nfundamental"
            DstTerminal   6
          }
          Branch {
            Points        [250, 195; 410, 195; 410, 155]
            DstComponent  "Mux8"
            DstTerminal   5
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Det. componente \nfundamental"
          SrcTerminal   1
          Points        [405, 110; 405, 130; 415, 130]
          DstComponent  "Mux8"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   6
          Points        [600, 150; 600, 170]
          DstComponent  "THD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   8
          Points        [565, 170; 565, 220]
          DstComponent  "FP"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux6"
          SrcTerminal   7
          Points        [580, 160; 580, 195]
          DstComponent  "TDD"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "v"
          SrcTerminal   1
          DstComponent  "Det. componente \nfundamental"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "i"
          SrcTerminal   1
          DstComponent  "Det. componente \nfundamental"
          DstTerminal   5
        }
      }
    }
    Component {
      Type          Display
      Name          "Display36"
      Show          off
      Position      [1665, 570]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Constant3"
      Show          on
      Position      [1195, 500]
      Direction     right
      Flipped       off
      Frame         [-25, -10; 25, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "60"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto14"
      Show          off
      Position      [1200, 840]
      Direction     right
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "TDD_rede"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto15"
      Show          off
      Position      [1530, 625]
      Direction     right
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "TDD_carga"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto16"
      Show          off
      Position      [445, 495]
      Direction     right
      Flipped       on
      Parameter {
        Variable      "Tag"
        Value         "Kh"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From35"
      Show          off
      Position      [220, 85]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "TDD_carga"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From36"
      Show          off
      Position      [225, 125]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "TDD_rede"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From37"
      Show          off
      Position      [225, 165]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Tag"
        Value         "Kh"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display25"
      Show          off
      Position      [320, 85]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display26"
      Show          off
      Position      [320, 125]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display37"
      Show          off
      Position      [320, 165]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Output
      Name          "Out1"
      Show          on
      Position      [340, 50]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Index"
        Value         "1"
        Show          on
      }
      Parameter {
        Variable      "Width"
        Value         "-1"
        Show          off
      }
    }
    Component {
      Type          Output
      Name          "Out2"
      Show          on
      Position      [410, 100]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Index"
        Value         "2"
        Show          on
      }
      Parameter {
        Variable      "Width"
        Value         "-1"
        Show          off
      }
    }
    Component {
      Type          Output
      Name          "Out3"
      Show          on
      Position      [415, 145]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Index"
        Value         "3"
        Show          on
      }
      Parameter {
        Variable      "Width"
        Value         "-1"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Constant2"
      Show          on
      Position      [215, 200]
      Direction     right
      Flipped       off
      Frame         [-25, -10; 25, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "P"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display38"
      Show          off
      Position      [320, 200]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Retificador"
      Show          on
      Position      [1165, 595]
      Direction     up
      Flipped       off
      Frame         [-60, -35; 60, 35]
      LabelPosition [0, 0]
      SampleTime    "-1"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Port
        Position      [-65, 25]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [-65, -25]
        Direction     left
      }
      Schematic {
        Location      [363, 124; 832, 512]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Diode
          Name          "D5"
          Show          off
          Position      [205, 110]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "Vf"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "RC"
          Show          off
          Position      [345, 240]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "R"
            Value         "RC"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "RNL"
          Show          off
          Position      [410, 165]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "R"
            Value         "RNL"
            Show          off
          }
        }
        Component {
          Type          Capacitor
          Name          "CNL"
          Show          off
          Position      [345, 120]
          Direction     down
          Flipped       on
          Parameter {
            Variable      "C"
            Value         "CNL"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "311"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D6"
          Show          off
          Position      [275, 110]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "Vf"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D7"
          Show          off
          Position      [205, 305]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "Vf"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D8"
          Show          off
          Position      [275, 305]
          Direction     down
          Flipped       off
          Parameter {
            Variable      "Vf"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "1"
          Show          on
          Position      [20, 250]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "2"
          Show          on
          Position      [20, 150]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "RL"
          Show          off
          Position      [155, 150]
          Direction     left
          Flipped       off
          Parameter {
            Variable      "R"
            Value         "RL"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "RL1"
          Show          off
          Position      [60, 205]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "R"
            Value         "R"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "LNL3"
          Show          off
          Position      [100, 150]
          Direction     left
          Flipped       off
          Parameter {
            Variable      "L"
            Value         "LNL"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D5"
          SrcTerminal   2
          Points        [205, 55; 275, 55]
          Branch {
            DstComponent  "D6"
            DstTerminal   2
          }
          Branch {
            Points        [345, 55]
            Branch {
              Points        [410, 55]
              DstComponent  "RNL"
              DstTerminal   2
            }
            Branch {
              DstComponent  "CNL"
              DstTerminal   1
            }
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "RC"
          SrcTerminal   1
          Points        [345, 335]
          Branch {
            Points        [275, 335]
            Branch {
              Points        [205, 335]
              DstComponent  "D7"
              DstTerminal   1
            }
            Branch {
              DstComponent  "D8"
              DstTerminal   1
            }
          }
          Branch {
            Points        [410, 335]
            DstComponent  "RNL"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "CNL"
          SrcTerminal   2
          DstComponent  "RC"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "D8"
          SrcTerminal   2
          Points        [275, 250]
          Branch {
            Points        [60, 250]
            Branch {
              DstComponent  "1"
              DstTerminal   1
            }
            Branch {
              DstComponent  "RL1"
              DstTerminal   2
            }
          }
          Branch {
            DstComponent  "D6"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D5"
          SrcTerminal   1
          Points        [205, 150]
          Branch {
            DstComponent  "D7"
            DstTerminal   2
          }
          Branch {
            DstComponent  "RL"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "LNL3"
          SrcTerminal   2
          DstComponent  "RL"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "2"
          SrcTerminal   1
          Points        [60, 150]
          Branch {
            DstComponent  "LNL3"
            DstTerminal   1
          }
          Branch {
            DstComponent  "RL1"
            DstTerminal   1
          }
        }
      }
    }
    Component {
      Type          ConfigurableSubsystem
      Name          "Load Current Detection Method"
      Show          on
      Position      [495, 745]
      Direction     up
      Flipped       off
      Frame         [-135, -45; 135, 45]
      LabelPosition [0, 0]
      SampleTime    "-1"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      TerminalNames {  }
      Location      [0, 27; 1366, 670]
      ZoomFactor    1
      SliderPosition [0, 0]
      ShowBrowser   off
      BrowserWidth  100
      Configurations {
        Name          "Conservative Power Theory"
        Schematic {
          Component {
            Type          DiscreteMean
            Name          "Discrete\nMean Value"
            Show          off
            Position      [395, 195]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "x0"
              Value         "0"
              Show          off
            }
            Parameter {
              Variable      "ts"
              Value         "1/fsample"
              Show          off
            }
            Parameter {
              Variable      "ns"
              Value         "fsample/fn"
              Show          off
            }
          }
          Component {
            Type          From
            Name          "From3"
            Show          off
            Position      [130, 225]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "Tag"
              Value         "Iload"
              Show          off
            }
            Parameter {
              Variable      "Visibility"
              Value         "1"
              Show          off
            }
          }
          Component {
            Type          From
            Name          "From5"
            Show          off
            Position      [130, 165]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "Tag"
              Value         "Vpcc"
              Show          off
            }
            Parameter {
              Variable      "Visibility"
              Value         "1"
              Show          off
            }
          }
          Component {
            Type          DiscreteIntegrator
            Name          "Discrete\nIntegrator3"
            Show          off
            Position      [325, 165]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "ExternalReset"
              Value         "1"
              Show          off
            }
            Parameter {
              Variable      "InitialConditionSource"
              Value         "1"
              Show          off
            }
            Parameter {
              Variable      "x0"
              Value         "0"
              Show          off
            }
            Parameter {
              Variable      "ShowStatePort"
              Value         "1"
              Show          off
            }
            Parameter {
              Variable      "UpperLimit"
              Value         "inf"
              Show          off
            }
            Parameter {
              Variable      "LowerLimit"
              Value         "-inf"
              Show          off
            }
            Parameter {
              Variable      "IntegrationMethod"
              Value         "3"
              Show          off
            }
            Parameter {
              Variable      "SampleTime"
              Value         "1/fsample"
              Show          off
            }
          }
          Component {
            Type          Sum
            Name          "Sum4"
            Show          off
            Position      [435, 165]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "IconShape"
              Value         "2"
              Show          off
            }
            Parameter {
              Variable      "Inputs"
              Value         "|+-"
              Show          off
            }
          }
          Component {
            Type          DiscreteMean
            Name          "Discrete\nMean Value1"
            Show          off
            Position      [595, 170]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "x0"
              Value         "0"
              Show          off
            }
            Parameter {
              Variable      "ts"
              Value         "1/fsample"
              Show          off
            }
            Parameter {
              Variable      "ns"
              Value         "fsample/fn"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Product2"
            Show          off
            Position      [530, 170]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "2"
              Show          off
            }
          }
          Component {
            Type          Reference
            SrcComponent  "Components/Control/Discrete/Discrete\\nRMS Value"
            Name          "Discrete\nRMS Value1"
            Show          off
            Position      [495, 90]
            Direction     up
            Flipped       off
            Frame         [-15, -15; 15, 15]
            LabelPosition [0, 18]
            LabelAlign    up
            Parameter {
              Variable      "x0"
              Value         "V_rede/sqrt(2)"
              Show          off
            }
            Parameter {
              Variable      "ts"
              Value         "1/fsample"
              Show          off
            }
            Parameter {
              Variable      "ns"
              Value         "fsample/fn"
              Show          off
            }
            Terminal {
              Type          Input
              Position      [-15, 0]
              Direction     left
            }
            Terminal {
              Type          Output
              Position      [19, 0]
              Direction     right
            }
          }
          Component {
            Type          Product
            Name          "Divide"
            Show          off
            Position      [665, 95]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "/*"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Divide1"
            Show          off
            Position      [685, 140]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "/*"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Product3"
            Show          off
            Position      [465, 340]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "2"
              Show          off
            }
          }
          Component {
            Type          DiscreteMean
            Name          "Discrete\nMean Value2"
            Show          off
            Position      [570, 340]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "x0"
              Value         "0"
              Show          off
            }
            Parameter {
              Variable      "ts"
              Value         "1/fsample"
              Show          off
            }
            Parameter {
              Variable      "ns"
              Value         "fsample/fn"
              Show          off
            }
          }
          Component {
            Type          Reference
            SrcComponent  "Components/Control/Discrete/Discrete\\nRMS Value"
            Name          "Discrete\nRMS Value2"
            Show          off
            Position      [465, 295]
            Direction     up
            Flipped       off
            Frame         [-15, -15; 15, 15]
            LabelPosition [0, 18]
            LabelAlign    up
            Parameter {
              Variable      "x0"
              Value         "V_rede/sqrt(2)"
              Show          off
            }
            Parameter {
              Variable      "ts"
              Value         "1/fsample"
              Show          off
            }
            Parameter {
              Variable      "ns"
              Value         "fsample/fn"
              Show          off
            }
            Terminal {
              Type          Input
              Position      [-15, 0]
              Direction     left
            }
            Terminal {
              Type          Output
              Position      [19, 0]
              Direction     right
            }
          }
          Component {
            Type          Math
            Name          "Math"
            Show          off
            Position      [515, 295]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Operator"
              Value         "1"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Divide2"
            Show          off
            Position      [575, 290]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "*/"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Product4"
            Show          off
            Position      [700, 320]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "2"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Product5"
            Show          off
            Position      [770, 135]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "2"
              Show          off
            }
          }
          Component {
            Type          Sum
            Name          "Sum5"
            Show          off
            Position      [970, 320]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "IconShape"
              Value         "2"
              Show          off
            }
            Parameter {
              Variable      "Inputs"
              Value         "|++"
              Show          off
            }
          }
          Component {
            Type          Sum
            Name          "Sum6"
            Show          off
            Position      [970, 405]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "IconShape"
              Value         "2"
              Show          off
            }
            Parameter {
              Variable      "Inputs"
              Value         "|-+"
              Show          off
            }
          }
          Component {
            Type          Goto
            Name          "Goto4"
            Show          off
            Position      [755, 220]
            Direction     left
            Flipped       on
            Parameter {
              Variable      "Tag"
              Value         "Q-"
              Show          off
            }
            Parameter {
              Variable      "Visibility"
              Value         "1"
              Show          off
            }
          }
          Component {
            Type          Product
            Name          "Product6"
            Show          off
            Position      [700, 220]
            Direction     up
            Flipped       off
            Parameter {
              Variable      "Inputs"
              Value         "2"
              Show          off
            }
          }
          Component {
            Type          Constant
            Name          "Constant"
            Show          on
            Position      [590, 235]
            Direction     right
            Flipped       off
            Frame         [-25, -10; 25, 10]
            LabelPosition [0, 13]
            LabelAlign    up
            Parameter {
              Variable      "Value"
              Value         "2*pi*60"
              Show          off
            }
          }
          Component {
            Type          Goto
            Name          "Goto"
            Show          off
            Position      [1000, 440]
            Direction     right
            Flipped       off
            Parameter {
              Variable      "Tag"
              Value         "ILh"
              Show          off
            }
            Parameter {
              Variable      "Visibility"
              Value         "1"
              Show          off
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nIntegrator3"
            SrcTerminal   2
            Points        [360, 165]
            Branch {
              DstComponent  "Sum4"
              DstTerminal   2
            }
            Branch {
              Points        [360, 195]
              DstComponent  "Discrete\nMean Value"
              DstTerminal   1
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nMean Value"
            SrcTerminal   2
            Points        [435, 195]
            DstComponent  "Sum4"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Product2"
            SrcTerminal   1
            DstComponent  "Discrete\nMean Value1"
            DstTerminal   1
          }
          Connection {
            Type          Signal
            SrcComponent  "Sum4"
            SrcTerminal   1
            Points        [460, 165]
            Branch {
              DstComponent  "Product2"
              DstTerminal   2
            }
            Branch {
              Points        [460, 120]
              Branch {
                Points        [460, 90]
                DstComponent  "Discrete\nRMS Value1"
                DstTerminal   1
              }
              Branch {
                Points        [635, 120]
                DstComponent  "Divide"
                DstTerminal   3
              }
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "Product3"
            SrcTerminal   1
            DstComponent  "Discrete\nMean Value2"
            DstTerminal   1
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nRMS Value2"
            SrcTerminal   2
            DstComponent  "Math"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Math"
            SrcTerminal   1
            DstComponent  "Divide2"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nMean Value2"
            SrcTerminal   2
            Points        [610, 340; 610, 325]
            DstComponent  "Product4"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Divide2"
            SrcTerminal   1
            Points        [615, 290; 615, 315]
            DstComponent  "Product4"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Divide1"
            SrcTerminal   1
            DstComponent  "Product5"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nRMS Value1"
            SrcTerminal   2
            Points        [620, 90]
            Branch {
              Points        [620, 135]
              DstComponent  "Divide1"
              DstTerminal   2
            }
            Branch {
              DstComponent  "Divide"
              DstTerminal   2
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "Divide"
            SrcTerminal   1
            Points        [715, 95; 715, 130]
            DstComponent  "Product5"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Sum5"
            SrcTerminal   1
            DstComponent  "Sum6"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Product4"
            SrcTerminal   1
            DstComponent  "Sum5"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Product5"
            SrcTerminal   1
            Points        [970, 135]
            DstComponent  "Sum5"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Discrete\nMean Value1"
            SrcTerminal   2
            Points        [625, 170]
            Branch {
              Points        [625, 145]
              DstComponent  "Divide1"
              DstTerminal   3
            }
            Branch {
              Points        [625, 215]
              DstComponent  "Product6"
              DstTerminal   2
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "Product6"
            SrcTerminal   1
            DstComponent  "Goto4"
            DstTerminal   1
          }
          Connection {
            Type          Signal
            SrcComponent  "Constant"
            SrcTerminal   1
            Points        [660, 235; 660, 225]
            DstComponent  "Product6"
            DstTerminal   3
          }
          Connection {
            Type          Signal
            SrcComponent  "Sum6"
            SrcTerminal   1
            Points        [970, 440]
            DstComponent  "Goto"
            DstTerminal   1
          }
          Connection {
            Type          Signal
            SrcComponent  "From5"
            SrcTerminal   1
            Points        [255, 165]
            Branch {
              DstComponent  "Discrete\nIntegrator3"
              DstTerminal   1
            }
            Branch {
              Points        [255, 335; 410, 335]
              Branch {
                DstComponent  "Product3"
                DstTerminal   2
              }
              Branch {
                Points        [410, 295]
                Branch {
                  DstComponent  "Discrete\nRMS Value2"
                  DstTerminal   1
                }
                Branch {
                  Points        [410, 265; 545, 265]
                  DstComponent  "Divide2"
                  DstTerminal   2
                }
              }
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "From3"
            SrcTerminal   1
            Points        [240, 225]
            Branch {
              Points        [485, 225; 485, 175]
              DstComponent  "Product2"
              DstTerminal   3
            }
            Branch {
              Points        [240, 345]
              Branch {
                DstComponent  "Product3"
                DstTerminal   3
              }
              Branch {
                Points        [240, 405]
                DstComponent  "Sum6"
                DstTerminal   3
              }
            }
          }
          Annotation {
            Name          "iLa"
            Position      [750, 300]
          } 
          Annotation {
            Name          "Energia Reativa"
            Position      [670, 185]
          } 
          Annotation {
            Name          "iLr"
            Position      [845, 120]
          } 
        }
      }
      Parameter {
        Variable      "Configuration"
        Value         "1"
        Show          on
      }
    }
    Component {
      Type          Constant
      Name          "Constant4"
      Show          on
      Position      [420, 200]
      Direction     right
      Flipped       off
      Frame         [-25, -10; 25, 10]
      LabelPosition [0, 13]
      LabelAlign    up
      Parameter {
        Variable      "Value"
        Value         "i"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display39"
      Show          off
      Position      [525, 200]
      Direction     up
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, 14]
      LabelAlign    up
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Abs
      Name          "Abs1"
      Show          off
      Position      [600, 295]
      Direction     right
      Flipped       off
    }
    Component {
      Type          CScript
      Name          "Peak Detector8"
      Show          off
      Position      [670, 295]
      Direction     up
      Flipped       off
      Parameter {
        Variable      "NumInputs"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NumOutputs"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NumContStates"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "NumDiscStates"
        Value         "6"
        Show          off
      }
      Parameter {
        Variable      "NumZCSignals"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "DirectFeedthrough"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Ts"
        Value         "1/12000"
        Show          off
      }
      Parameter {
        Variable      "Parameters"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "LangStandard"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "RuntimeCheck"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Declarations"
        Value         "#define im Input (0)\n\n#define Imax Ir\n\n#include <st"
"dlib.h>\n\n#define kant DiscState(0)\n#define maximum_ant DiscState(1)\n#defi"
"ne KH_ant DiscState(2)\n#define peak_ant DiscState(3)\n#define y1_ant DiscSta"
"te(4)\n#define y2_ant DiscState(5)\n\nint k;\nstatic double Nf;\nstatic doubl"
"e maximum;\nstatic double peak;\nstatic double KH;\nstatic double y1;\nstatic"
" double y2;\nint c;\n\n"
        Show          off
      }
      Parameter {
        Variable      "StartFcn"
        Value         "k = -1;\nkant = k;\nNf = 99;\nmaximum = 0;\nmaximum_ant"
" = 0;\npeak = 0;\nKH_ant = 0;\ny1_ant = 0;\ny2_ant = 0;\n"
        Show          off
      }
      Parameter {
        Variable      "OutputFcn"
        Value         "k = kant + 1;\n\nif (k<=Nf){\n\n    if (im > peak)\n   "
" {\n       peak  = im;\n    }\n  }\n\n  \nif (k==Nf){\nk = -1;\nmaximum = pea"
"k;\npeak = 0;\n}\n\nelse{\nmaximum = maximum_ant;\n}\n\n\n\nOutput (0) = maxi"
"mum;\n\n\n"
        Show          off
      }
      Parameter {
        Variable      "UpdateFcn"
        Value         "kant = k;\nmaximum_ant = maximum;\nKH_ant = KH;\ny1_ant"
" = y1;\ny2_ant = y2;"
        Show          off
      }
      Parameter {
        Variable      "DerivativeFcn"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "TerminateFcn"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          ZeroOrderHold
      Name          "Zero-Order\nHold3"
      Show          off
      Position      [550, 295]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Ts"
        Value         "1/fsample"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux2"
      Show          off
      Position      [745, 290]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Output
      Name          "Out4"
      Show          on
      Position      [755, 220]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Index"
        Value         "4"
        Show          on
      }
      Parameter {
        Variable      "Width"
        Value         "-1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display40"
      Show          off
      Position      [675, 185]
      Direction     down
      Flipped       off
      Frame         [-31, -11; 31, 11]
      LabelPosition [0, -14]
      LabelAlign    down
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Vm1"
      SrcTerminal   1
      Points        [885, 250]
      Branch {
        DstComponent  "Am1"
        DstTerminal   2
      }
      Branch {
        Points        [1030, 250]
        Branch {
          DstComponent  "Am10"
          DstTerminal   2
        }
        Branch {
          DstComponent  "Am9"
          DstTerminal   1
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Zero-Order\nHold"
      SrcTerminal   2
      DstComponent  "Goto"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Zero-Order\nHold1"
      SrcTerminal   2
      DstComponent  "Goto6"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sine Wave"
      SrcTerminal   1
      DstComponent  "V"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Am1"
      SrcTerminal   3
      DstComponent  "Zero-Order\nHold"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am10"
      SrcTerminal   3
      DstComponent  "Zero-Order\nHold1"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Vm1"
      SrcTerminal   2
      Points        [885, 375]
      Branch {
        Points        [520, 375]
        DstComponent  "I"
        DstTerminal   1
      }
      Branch {
        Points        [1065, 375]
        Branch {
          Points        [1330, 375]
          DstComponent  "V"
          DstTerminal   2
        }
        Branch {
          Points        [1065, 620]
          DstComponent  "Retificador"
          DstTerminal   1
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From1"
      SrcTerminal   1
      Points        [945, 100]
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm1"
      SrcTerminal   3
      Points        [900, 315]
      Branch {
        DstComponent  "Zero-Order\nHold2"
        DstTerminal   1
      }
      Branch {
        Points        [900, 350; 690, 350; 690, 420]
        DstComponent  "Gain"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant"
      SrcTerminal   1
      DstComponent  "Divide1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant10"
      SrcTerminal   1
      Points        [160, 325; 160, 285]
      DstComponent  "Divide1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Divide1"
      SrcTerminal   1
      Points        [235, 280; 235, 275]
      DstComponent  "Divide"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   3
      Points        [1245, 740; 1245, 725; 1280, 725; 1280, 705]
      DstComponent  "Display28"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   4
      Points        [1240, 755; 1240, 745; 1280, 745; 1280, 735]
      DstComponent  "Display29"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From32"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor"
      DstTerminal   8
    }
    Connection {
      Type          Signal
      SrcComponent  "From31"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor"
      DstTerminal   7
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   1
      Points        [1225, 710; 1225, 645]
      DstComponent  "Display22"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   2
      Points        [1200, 720; 1245, 720; 1245, 675]
      DstComponent  "Display27"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   5
      Points        [1240, 770; 1240, 765]
      DstComponent  "Display21"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   6
      Points        [1165, 820]
      DstComponent  "Display30"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant1"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor"
      DstTerminal   9
    }
    Connection {
      Type          Signal
      SrcComponent  "Divide"
      SrcTerminal   1
      DstComponent  "Gain1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain1"
      SrcTerminal   2
      Points        [380, 280]
      Branch {
        Points        [400, 280; 400, 320]
        DstComponent  "Sum1"
        DstTerminal   2
      }
      Branch {
        Points        [380, 525]
        DstComponent  "Saturation4"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   3
      Points        [1580, 520; 1580, 505; 1615, 505; 1615, 485]
      DstComponent  "Display33"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   4
      Points        [1575, 535; 1575, 525; 1615, 525; 1615, 515]
      DstComponent  "Display34"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From34"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor1"
      DstTerminal   8
    }
    Connection {
      Type          Signal
      SrcComponent  "From33"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor1"
      DstTerminal   7
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   1
      Points        [1560, 490; 1560, 425]
      DstComponent  "Display24"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   2
      Points        [1535, 500; 1580, 500; 1580, 455]
      DstComponent  "Display32"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   5
      Points        [1575, 550; 1575, 545]
      DstComponent  "Display23"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   6
      Points        [1500, 600]
      DstComponent  "Display35"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant3"
      SrcTerminal   1
      DstComponent  "Fatores de conformidade do inversor1"
      DstTerminal   9
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor"
      SrcTerminal   10
      Points        [1240, 785; 1240, 790; 1245, 790]
      Branch {
        DstComponent  "Display31"
        DstTerminal   1
      }
      Branch {
        Points        [1245, 840]
        DstComponent  "Goto14"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Fatores de conformidade do inversor1"
      SrcTerminal   10
      Points        [1575, 565; 1575, 570; 1590, 570]
      Branch {
        DstComponent  "Display36"
        DstTerminal   1
      }
      Branch {
        Points        [1590, 625]
        DstComponent  "Goto15"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From35"
      SrcTerminal   1
      Points        [255, 85]
      Branch {
        DstComponent  "Display25"
        DstTerminal   1
      }
      Branch {
        Points        [255, 50]
        DstComponent  "Out1"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From36"
      SrcTerminal   1
      Points        [255, 125]
      Branch {
        DstComponent  "Display26"
        DstTerminal   1
      }
      Branch {
        Points        [255, 100]
        DstComponent  "Out2"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From37"
      SrcTerminal   1
      Points        [260, 165]
      Branch {
        DstComponent  "Display37"
        DstTerminal   1
      }
      Branch {
        Points        [260, 145]
        DstComponent  "Out3"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant2"
      SrcTerminal   1
      DstComponent  "Display38"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Retificador"
      SrcTerminal   2
      Points        [1030, 570]
      DstComponent  "Am9"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Zero-Order\nHold2"
      SrcTerminal   2
      DstComponent  "Goto1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant4"
      SrcTerminal   1
      DstComponent  "Display39"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From14"
      SrcTerminal   1
      Points        [700, 90; 700, 95; 750, 95]
    }
    Connection {
      Type          Signal
      SrcComponent  "From15"
      SrcTerminal   1
      Points        [700, 110; 700, 105; 750, 105]
    }
    Connection {
      Type          Wire
      SrcComponent  "I"
      SrcTerminal   2
      Points        [520, 250]
      DstComponent  "Am1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain"
      SrcTerminal   2
      Points        [255, 420]
      DstComponent  "Divide"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Saturation4"
      SrcTerminal   1
      Points        [565, 460; 360, 460; 360, 330]
      DstComponent  "Sum1"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "Am10"
      SrcTerminal   1
      Points        [1330, 250]
      DstComponent  "V"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Saturation4"
      SrcTerminal   4
      Points        [485, 495]
      DstComponent  "Goto16"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am9"
      SrcTerminal   3
      Points        [1005, 505; 1005, 465; 920, 465; 920, 460]
      DstComponent  "Goto13"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From16"
      SrcTerminal   1
      DstComponent  "Saturation4"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Abs1"
      SrcTerminal   2
      DstComponent  "Peak Detector8"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum1"
      SrcTerminal   1
      Points        [490, 325]
      Branch {
        DstComponent  "I"
        DstTerminal   3
      }
      Branch {
        Points        [490, 295]
        DstComponent  "Zero-Order\nHold3"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Zero-Order\nHold3"
      SrcTerminal   2
      Points        [570, 295]
      Branch {
        DstComponent  "Abs1"
        DstTerminal   1
      }
      Branch {
        Points        [570, 320; 730, 320]
        DstComponent  "Mux2"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Peak Detector8"
      SrcTerminal   2
      Points        [715, 295; 715, 285; 720, 285]
      Branch {
        DstComponent  "Mux2"
        DstTerminal   2
      }
      Branch {
        Points        [720, 220; 725, 220]
        Branch {
          DstComponent  "Out4"
          DstTerminal   1
        }
        Branch {
          Points        [725, 185]
          DstComponent  "Display40"
          DstTerminal   1
        }
      }
    }
    Annotation {
      Name          "Inverter Current Control"
      Position      [925, 65]
    } 
    Annotation {
      Name          "Grid and Inverter Current"
      Position      [715, 65]
    } 
    Annotation {
      Name          "%  THD"
      Position      [1385, 765]
    } 
    Annotation {
      Name          "P"
      Position      [1375, 640]
    } 
    Annotation {
      Name          "Q"
      Position      [1375, 670]
    } 
    Annotation {
      Name          "A"
      Position      [1375, 700]
    } 
    Annotation {
      Name          "Fd"
      Position      [1380, 730]
    } 
    Annotation {
      Name          "Fp"
      Position      [1380, 815]
    } 
    Annotation {
      Name          "%  TDD"
      Position      [1385, 790]
    } 
    Annotation {
      Name          "%  THD"
      Position      [1720, 545]
    } 
    Annotation {
      Name          "P"
      Position      [1710, 420]
    } 
    Annotation {
      Name          "Q"
      Position      [1710, 450]
    } 
    Annotation {
      Name          "A"
      Position      [1710, 480]
    } 
    Annotation {
      Name          "Fd"
      Position      [1715, 510]
    } 
    Annotation {
      Name          "Fp"
      Position      [1715, 595]
    } 
    Annotation {
      Name          "%  TDD"
      Position      [1720, 570]
    } 
  }
  Script {
    Name          "Script"
    Script        "%Armazena as caracteristicas da simulacao atual\nmdl = plec"
"s('get', '', 'CurrentCircuit');\n%salva path do scope na raiz, se estiver den"
"tro de\n%um subsystem usar '/Sub/Scope'\n%scopepath = [mdl '/Psemi'];\n\n%car"
"rega um valor inicial em Ih e H  A=Ih \nloadStructure = struct('P', 0);\nload"
"Structure = struct('i', 0);\n%Cria uma estrutura com as variaveis\nvarStructu"
"re = struct('ModelVars', loadStructure);\n%Apaga o scope\n%plecs('scope', sco"
"pepath, 'ClearTraces');\n\n%IfVals = [pu*0.2 pu*0.4 pu*0.6 pu*0.8 pu];       "
" % Amplitude da corrente funtamental injetada pelo inversor (Corrente nominal"
" 18A)\n\nPVals = 0.72*3900*[ 0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t"
"0\t0\t0\t0\t0\t0\t0\t0.012605042\t0.023809524\t0.030532213\t0.035014006\t0.04"
"1736695\t0.05070028\t0.066386555\t0.084313725\t0.102240896\t0.120168067\t0.13"
"5854342\t0.153781513\t0.171708683\t0.191876751\t0.209803922\t0.232212885\t0.2"
"45658263\t0.263585434\t0.283753501\t0.299439776\t0.312885154\t0.324089636\t0."
"342016807\t0.357703081\t0.373389356\t0.384593838\t0.404761905\t0.422689076\t0"
".440616246\t0.458543417\t0.474229692\t0.494397759\t0.514565826\t0.534733894\t"
"0.552661064\t0.570588235\t0.58627451\t0.604201681\t0.622128852\t0.642296919\t"
"0.662464986\t0.68487395\t0.705042017\t0.725210084\t0.738655462\t0.749859944\t"
"0.767787115\t0.787955182\t0.805882353\t0.823809524\t0.848459384\t0.870868347"
"\t0.886554622\t0.902240896\t0.926890756\t0.944817927\t0.953781513\t0.96722689"
"1\t0.980672269\t0.989635854\t0.996358543\t1  0.996358543\t0.987394958\t0.9739"
"4958\t0.962745098\t0.951540616\t0.933613445\t0.915686275\t0.904481793\t0.8910"
"36415\t0.870868347\t0.857422969\t0.839495798\t0.819327731\t0.799159664\t0.785"
"714286\t0.772268908\t0.754341737\t0.731932773\t0.705042017\t0.687114846\t0.67"
"5910364\t0.662464986\t0.642296919\t0.626610644\t0.597478992\t0.575070028\t0.5"
"48179272\t0.532492997\t0.528011204\t0.51232493\t0.501120448\t0.483193277\t0.4"
"67507003\t0.445098039\t0.427170868\t0.400280112\t0.382352941\t0.357703081\t0."
"330812325\t0.308403361\t0.288235294\t0.270308123\t0.250140056\t0.236694678\t0"
".214285714\t0.194117647\t0.180672269\t0.162745098\t0.144817927\t0.12464986\t0"
".104481793\t0.091036415\t0.07535014\t0.052941176\t0.043977591\t0.028291317\t0"
".017086835\t0.005882353\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0\t0"
"\t0\t0\t0\t0\t0   0   0];       \nIVals = [1\t2\t3\t4\t5\t6\t7\t8\t9\t10\t11"
"\t12\t13\t14\t15\t16\t17\t18\t19\t20\t21\t22\t23\t24\t25\t26\t27\t28\t29\t30"
"\t31\t32\t33\t34\t35\t36\t37\t38\t39\t40\t41\t42\t43\t44\t45\t46\t47\t48\t49"
"\t50\t51\t52\t53\t54\t55\t56\t57\t58\t59\t60\t61\t62\t63\t64\t65\t66\t67\t68"
"\t69\t70\t71\t72\t73\t74\t75\t76\t77\t78\t79\t80\t81\t82\t83\t84\t85\t86\t87"
"\t88\t89\t90\t91\t92\t93\t94\t95\t96\t97\t98\t99\t100\t101\t102\t103\t104\t10"
"5\t106\t107\t108\t109\t110\t111\t112\t113\t114\t115\t116\t117\t118\t119\t120"
"\t121\t122\t123\t124\t125\t126\t127\t128\t129\t130\t131\t132\t133\t134\t135\t"
"136\t137\t138\t139\t140\t141\t142\t143\t144\t145\t146\t147\t148\t149\t150\t15"
"1\t152\t153\t154\t155\t156\t157\t158\t159\t160\t161\t162\t163\t164\t165\t166"
"\t167\t168];\nfor kx = 1:length(PVals)\nvarStructure.ModelVars.P = PVals(kx);"
"\nvarStructure.ModelVars.i = IVals(kx);\nOut = plecs('simulate', varStructure"
");\nTDD_carga(kx,:) = Out.Values(1,end);\nTDD_rede(kx,:) = Out.Values(2,end);"
"\nKh(kx,:) = Out.Values(3,end);\nIm(kx,:) = Out.Values(4,end);\nend\n        "
"               \n%salva a variavel\nsave(\"TDD_carga.mat\", \"-mat\", \"TDD_c"
"arga\")\nsave(\"TDD_rede.mat\", \"-mat\", \"TDD_rede\")\nsave(\"Kh.mat\", \"-"
"mat\", \"Kh\")\nsave(\"Im.mat\", \"-mat\", \"Im\")\n%caso use passo variavel "
"pode-se salvar o scope\n%em formato .csv"
  }
}
DemoSignature "bVmFqiez2isRT5pxQAIN5XZsvYIZsXLCKoJqGGD75kM="
